
import CodeBlock from '@theme/CodeBlock';

import customField from '@site/src/libs/customField';

import AutomatedInstall from './_common/_automated-install.mdx';
import AutomatedUninstall from './_common/_automated-uninstall.mdx';
import ManualInstall from './_common/_manual-install.mdx';
import ManualInstallInfo from './_common/_manual-info.mdx';
import ManualInstallLinux from './_common/_manual-install-linux.mdx'

{/* ------------------------------------------------------------------------ */}

<AutomatedInstall label={ props.label }/>

<details>
<summary>PATH setup</summary>

In order to access the Ninja Build binaries installed in
the central xPacks store,
the project build configurations need a PATH adjustment:

<CodeBlock language="sh"> {
`export PATH=$HOME/.local/xPacks/@xpack-dev-tools/ninja-build/${ customField('upstreamVersion') }-${ customField('xpackSubversion') }.${ customField('npmSubversion') }/.content/bin:$PATH`
} </CodeBlock>
</details>

<AutomatedUninstall/>

### Quick test

To check if the Ninja Build installed by **xpm** starts properly, use something like:

<CodeBlock language="console"> {
`$ ~/.local/xPacks/@xpack-dev-tools/ninja-build/${ customField('upstreamVersion') }-${ customField('xpackSubversion') }.${ customField('npmSubversion') }/.content/bin/TODO --version
${ customField('upstreamVersion') }`
} </CodeBlock>

<ManualInstall/>

<ManualInstallLinux/>

<ManualInstallInfo/>

<details>
<summary>PATH setup</summary>

With all binary tools installed in `xpacks/.bin`, the project build
configurations need a single PATH adjustment:

```sh
export PATH=<...project-path...>/xpacks/.bin:$PATH
```

</details>

### Quick test

To check if the Ninja Build installed manually starts properly, use something like:

<CodeBlock language="console"> {
`$ ~/.local/xPacks/ninja-build/xpack-ninja-build-${ customField('upstreamVersion') }-${ customField('xpackSubversion') }/bin/TODO --version
${ customField('upstreamVersion') }`
} </CodeBlock>

## TODO (Drivers, etc)

## Miscellaneous

<details>
<summary>Folder hierarchy</summary>

After install, the package creates a folder hierarchy like the following
(only the first two depth levels are shown):

<CodeBlock language="console"> {
`$ tree -L 2 ~/.local/xPacks/\@xpack-dev-tools/ninja-build/${ customField('upstreamVersion') }-${ customField('xpackSubversion') }.${ customField('npmSubversion') }/.content/
/home/ilg/.local/xPacks/\@xpack-dev-tools/ninja-build/${ customField('upstreamVersion') }-${ customField('xpackSubversion') }.${ customField('npmSubversion') }/.content/
TODO
`
} </CodeBlock>

</details>
